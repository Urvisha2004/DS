Shared pool hit ratio:-
-----------------------
SharedÂ PoolÂ HitÂ Ratio=(1âˆ’TotalÂ ParsesSessionÂ CursorÂ CacheÂ MissesÂ +Â HardÂ Parsesâ€‹)Ã—100
Pins = number of times an object (SQL/PLSQL) was executed.
PinHits = number of times Oracle found it already in cache.


SELECT 
    ROUND(
        (SUM(pinhits) / NULLIF(SUM(pins), 0)) * 100, 
        2
    ) AS library_cache_hit_ratio
FROM 
    v$librarycache
WHERE 
    pins > 0;


_______________


redo log buffer:-
redo entries â†’ total redo records generated.
redo buffer allocation retries â†’ how many times Oracle had to wait for space in redo buffer.
------------
RedoÂ LogÂ BufferÂ HitÂ Ratio=(1âˆ’RedoÂ EntriesRedoÂ BufferÂ AllocationÂ Retries)Ã—100

(a) Using redo log space requests vs redo entries

SELECT
    (1 - (r.value / e.value)) * 100 AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE  
    r.name = 'redo log space requests'
AND    
    e.name = 'redo entries';
--------------
(b) Using redo wastage vs redo entries

SELECT 
    ROUND(
        (1 - (r.value / NULLIF(e.value, 0))) * 100, 
        2
    ) AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE 
    r.name = 'redo buffer allocation retries'
    AND e.name = 'redo entries';
--------------------

(c) Using redo buffer allocation retries vs redo entries
SELECT 
    ROUND(
        (1 - (r.value / NULLIF(e.value, 0))) * 100, 
        2
    ) AS redo_log_hit_ratio
FROM 
    v$sysstat r, 
    v$sysstat e
WHERE 
    r.name = 'redo buffer allocation retries'
    AND e.name = 'redo entries';
_________________________
ðŸ”¹ Example (Imagine Numbers)

Shared Pool:

Pins = 1000

Reloads = 50

Hit Ratio = 1 - (50 / 1000) = 0.95 â†’ 95% âœ… Good

Redo Log:

Redo entries = 200000

Retries = 500

Hit Ratio = (1 - (500 / 200000)) Ã— 100 = 99.75% âœ… Excellent